---
title: 'VMware 安装飞牛 fnOS 并配置静态 IP 教程'
published: 2026-2-12
draft: false
tags: ['linux', 'nas', 'vmware']
toc: true
coverImage:
  src: './cover.png'
  alt: 'vmware 安装 FnOS 后的后台界面。'
---

## 一、准备工作 📦

- **下载 fnOS 镜像**：访问官网 https://fnnas.com/download，下载最新版 ISO 镜像，保存到**非中文路径**。

- **VMware 要求**：安装 VMware Workstation Pro（推荐 16/17 版），并在 BIOS/UEFI 中开启虚拟化（Intel VT-x / AMD-V）。

- **硬件建议**：CPU 2-4 核，内存 4GB+，虚拟磁盘 64GB+（建议 128GB+）。

---

## 二、创建并配置虚拟机 🖥️

1. 打开 VMware → 点击「文件」→「新建虚拟机」→ 选择 **自定义（高级）** → 下一步。

2. 兼容性：选择最高版本（如 Workstation 17.x）→ 下一步。

3. 安装来源：选择 **安装程序光盘映像文件（ISO）** → 浏览并选中下载的 fnOS ISO → 下一步。

4. 操作系统：客户机选 **Linux**，版本选 **Debian 12.x 64 位**（没有则选 Debian 64 位）→ 下一步。

5. 命名与位置：虚拟机名称如「飞牛 fnOS」，位置选择非中文路径 → 下一步。

6. 处理器配置：处理器数量 1，每个处理器内核数 2-4（不超过宿主机物理核心）→ 下一步。

7. 内存分配：至少 4096MB（4GB），建议 8192MB（8GB）→ 下一步。

8. **网络连接（关键）**：选择 **桥接模式**（让虚拟机和宿主机在同一局域网）→ 下一步。

9. I/O 控制器：默认 LSI Logic → 下一步。

10. 虚拟磁盘类型：默认 SCSI → 下一步。

11. 创建新虚拟磁盘：最大磁盘大小 64GB+，勾选「将虚拟磁盘存储为单个文件」→ 下一步。

12. 磁盘文件：默认即可 → 点击「完成」，完成虚拟机创建。

---

## 三、安装飞牛 fnOS 🚀

1. 选中虚拟机 → 点击「开启此虚拟机」。

2. 启动菜单出现后，选择 **Graphical Install（图形化安装）** → 回车。

3. 语言选择「简体中文」→ 下一步 → 键盘默认「汉语」→ 下一步。

4. 磁盘分区：新手直接选「自动分区」→ 下一步并确认格式化。

5. 等待安装完成 → 提示重启时，**在 VMware 设置中移除 ISO（CD/DVD → 断开连接）** → 重启虚拟机。

6. 重启后进入控制台，会显示动态获取的 IP 地址（先记下来，后续将改为静态 IP）。

---

## 四、配置静态 IP（核心步骤） 🔧

### 1. 登录 fnOS 控制台

- 控制台提示 `trim-xxxx login:`，使用 root 账号和密码登录（若未设置密码，可通过单用户模式重置，参考文末补充）。

### 2. 编辑网络配置文件

```bash

# 打开网卡配置文件

nano /etc/network/interfaces

```

### 3. 替换为静态 IP 配置

将文件内容全部替换为以下模板（**根据你的宿主机网段修改**，示例适配宿主机网段 `192.168.3.x`）：

```bash

auto ens33

iface ens33 inet static

address 192.168.3.101  # 静态IP，需与宿主机同网段且未被占用

netmask 255.255.255.0  # 子网掩码，与宿主机保持一致

gateway 192.168.3.1    # 网关地址，与宿主机默认网关一致

dns-nameservers 223.5.5.5 8.8.8.8  # DNS服务器，使用公共DNS

```

### 4. 保存并退出

- 按 `Ctrl+O` → 回车确认文件名 → 按 `Ctrl+X` 退出 nano 编辑器。

### 5. 释放旧的 DHCP IP（关键）

从你的 ip a 输出可以看到，ens33 同时存在动态 IP（192.168.28.15）和静态 IP（192.168.3.101），这是因为 DHCP 客户端仍在运行。执行以下命令释放动态 IP：

```bash

dhclient -r ens33

```

### 6. 重启网络服务并重启

```bash

systemctl restart networking

reboot

```

### 7. 验证静态 IP

```bash

ip a

```

查看 `ens33` 网卡的 IP 地址，确认已更新为你设置的静态 IP（如 `192.168.3.101`）。

---

## 五、验证连通性 ✅

1. 在 Win11 宿主机打开 CMD，执行以下命令（替换为你的静态 IP）：

```bash

ping 192.168.3.101

```

- 若能 ping 通，说明网络配置成功。

2. 打开浏览器，访问 `http://192.168.3.101:5666`，进入 fnOS Web UI 初始化向导，创建管理员账号。

---

## 六、常见问题排查 🛠️

- **ping 不通静态 IP**：

  1. 检查 VMware 网络适配器是否为「桥接模式」。

  2. 确认静态 IP 与宿主机在同一网段，网关和子网掩码配置正确。

  3. 临时关闭 Win11 防火墙和第三方安全软件后重试。

- **Web UI 无法访问**：

  1. 确认 fnOS 的 5666 端口未被防火墙拦截。

  2. 在 fnOS 控制台执行 `systemctl status fnos-web`，检查 Web 服务是否正常运行。

  3. 重启 fnOS 虚拟机后再次尝试访问。

---

## 补充：单用户模式重置 root 密码（若忘记密码）

1. 重启 fnOS 虚拟机，在 GRUB 启动菜单出现时按 `e` 进入编辑模式。

2. 找到以 `linux` 开头的行，在末尾添加 `rw init=/bin/bash`。

3. 按 `Ctrl+X` 启动，进入单用户模式。

4. 执行 `passwd root`，设置新密码。

5. 执行 `reboot -f` 重启系统，使用新密码登录。

---
